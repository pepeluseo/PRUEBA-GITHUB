<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE log SYSTEM "logger.dtd">
<log>
<record>
  <date>2022-10-29T12:28:26.374620Z</date>
  <millis>1667046506374</millis>
  <nanos>620000</nanos>
  <sequence>0</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.ProxyUtil</class>
  <method>setProxySettings</method>
  <thread>1</thread>
  <message>No se usara proxy para las conexiones HTTP</message>
</record>
<record>
  <date>2022-10-29T12:28:26.436985Z</date>
  <millis>1667046506436</millis>
  <nanos>985000</nanos>
  <sequence>1</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.ProxyUtil</class>
  <method>setProxySettings</method>
  <thread>1</thread>
  <message>No se usara proxy para las conexiones HTTPS</message>
</record>
<record>
  <date>2022-10-29T12:28:26.493258Z</date>
  <millis>1667046506493</millis>
  <nanos>258000</nanos>
  <sequence>2</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.SimpleAfirma</class>
  <method>printSystemInfo</method>
  <thread>1</thread>
  <message>AutoFirma 1.7.1
Resolucion DPI de pantalla: 0
Sistema operativo: Linux
Version del SO: 5.15.0-52-generic
Version de Java: 13.0.7
Arquitectura del JRE: 64
Java Vendor: Private Build
Localizacion por defecto: es_ES
Tamano actual en memoria: 62MB
Tamano maximo de memoria: 958MB
Memoria actualmente libre: 49MB</message>
</record>
<record>
  <date>2022-10-29T12:28:26.495143Z</date>
  <millis>1667046506495</millis>
  <nanos>143000</nanos>
  <sequence>3</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.SimpleAfirma</class>
  <method>main</method>
  <thread>1</thread>
  <message>Invocacion por protocolo con URL:
afirma://websocket?v=3&amp;idsession=zmZxuU7mKzZGnmaEsdyo</message>
</record>
<record>
  <date>2022-10-29T12:28:26.525321Z</date>
  <millis>1667046506525</millis>
  <nanos>321000</nanos>
  <sequence>4</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncher</class>
  <method>launch</method>
  <thread>1</thread>
  <message>Se inicia el modo de comunicacion por websockets: afirma://websocket?v=3&amp;idsession=zmZxuU7mKzZGnmaEsdyo</message>
</record>
<record>
  <date>2022-10-29T12:28:26.551550Z</date>
  <millis>1667046506551</millis>
  <nanos>550000</nanos>
  <sequence>5</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.SecureSocketUtils</class>
  <method>getSecureSSLContext</method>
  <thread>1</thread>
  <message>Se utilizara el siguiente almacen para establecer el socket SSL: /usr/lib/AutoFirma/autofirma.pfx</message>
</record>
<record>
  <date>2022-10-29T12:28:51.010827Z</date>
  <millis>1667046531010</millis>
  <nanos>827000</nanos>
  <sequence>6</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.AfirmaWebSocketServer</class>
  <method>onOpen</method>
  <thread>18</thread>
  <message>Apertura del socket</message>
</record>
<record>
  <date>2022-10-29T12:28:52.768727Z</date>
  <millis>1667046532768</millis>
  <nanos>727000</nanos>
  <sequence>7</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.AfirmaWebSocketServer</class>
  <method>onMessage</method>
  <thread>18</thread>
  <message>Recibimos una peticion en el socket</message>
</record>
<record>
  <date>2022-10-29T12:28:52.777254Z</date>
  <millis>1667046532777</millis>
  <nanos>254000</nanos>
  <sequence>8</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.AfirmaWebSocketServer</class>
  <method>onMessage</method>
  <thread>18</thread>
  <message>Recibimos una peticion en el socket</message>
</record>
<record>
  <date>2022-10-29T12:28:52.782152Z</date>
  <millis>1667046532782</millis>
  <nanos>152000</nanos>
  <sequence>9</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncher</class>
  <method>launch</method>
  <thread>18</thread>
  <message>Se invoca a la aplicacion para realizar una operacion de firma/multifirma</message>
</record>
<record>
  <date>2022-10-29T12:28:52.790376Z</date>
  <millis>1667046532790</millis>
  <nanos>376000</nanos>
  <sequence>10</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.core.misc.protocol.ProtocolInvocationUriParser</class>
  <method>parserUri</method>
  <thread>18</thread>
  <message>URI recibida: afirma://sign?op=sign&amp;algorithm=SHA256withRSA&amp;format=CAdES&amp;properties=bW9kZT1leHBsaWNpdApwcmVjYWxjdWxhdGVkSGFzaEFsZ29yaXRobT1TSEEtMjU2CmZpbHRlcnM9bm9uZXhwaXJlZDo7c2lnbmluZ0NlcnQ7cXVhbGlmaWVkOjRiMDMwNzAyYmI0MjliY2M2MzRkMjJjM2VjNDgwYmE4&amp;sticky=true&amp;dat=fCyzKhGwL8H5epa5nLR6hfzEoJzfLJZkY9OGCUC_Ec8=</message>
</record>
<record>
  <date>2022-10-29T12:28:52.796584Z</date>
  <millis>1667046532796</millis>
  <nanos>584000</nanos>
  <sequence>11</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.core.misc.http.DataDownloader</class>
  <method>downloadData</method>
  <thread>18</thread>
  <message>El contenido a obtener es Base64</message>
</record>
<record>
  <date>2022-10-29T12:28:52.803501Z</date>
  <millis>1667046532803</millis>
  <nanos>501000</nanos>
  <sequence>12</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncher</class>
  <method>launch</method>
  <thread>18</thread>
  <message>Se inicia la operacion de firma. Version de protocolo: 3</message>
</record>
<record>
  <date>2022-10-29T12:28:52.834604Z</date>
  <millis>1667046532834</millis>
  <nanos>604000</nanos>
  <sequence>13</sequence>
  <logger>es.gob.afirma</logger>
  <level>WARNING</level>
  <class>es.gob.afirma.keystores.filters.CertFilterManager</class>
  <method>parseFilter</method>
  <thread>18</thread>
  <message>Se omitira el filtro 'signingCert' por no estar reconocido</message>
</record>
<record>
  <date>2022-10-29T12:28:52.844680Z</date>
  <millis>1667046532844</millis>
  <nanos>680000</nanos>
  <sequence>14</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaUnifiedKeyStoreManager</class>
  <method>init</method>
  <thread>18</thread>
  <message>Inicializamos el almacen de tipo: NSS</message>
</record>
<record>
  <date>2022-10-29T12:28:52.850241Z</date>
  <millis>1667046532850</millis>
  <nanos>241000</nanos>
  <sequence>15</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilitiesUnix</class>
  <method>getNSSLibDirUnix</method>
  <thread>18</thread>
  <message>Se usara el NSS encontrado en '/usr/lib/x86_64-linux-gnu/nss'</message>
</record>
<record>
  <date>2022-10-29T12:28:52.856574Z</date>
  <millis>1667046532856</millis>
  <nanos>574000</nanos>
  <sequence>16</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>loadNSS</method>
  <thread>18</thread>
  <message>Directorio de bibliotecas NSS: /usr/lib/x86_64-linux-gnu/nss</message>
</record>
<record>
  <date>2022-10-29T12:28:52.859538Z</date>
  <millis>1667046532859</millis>
  <nanos>538000</nanos>
  <sequence>17</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.shared.SharedNssUtil</class>
  <method>getSharedUserProfileDirectory</method>
  <thread>18</thread>
  <message>Detectado directorio de perfil de NSS: Ì´/.pki/nssdb</message>
</record>
<record>
  <date>2022-10-29T12:28:52.861550Z</date>
  <millis>1667046532861</millis>
  <nanos>550000</nanos>
  <sequence>18</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>loadNSS</method>
  <thread>18</thread>
  <message>Configuracion de NSS para SunPKCS11:
name=NSSCrypto-AFirma
library=/usr/lib/x86_64-linux-gnu/nss/libsoftokn3.so
attributes=compatibility
slot=2
showInfo=false
allowSingleThreadedModules=true
nssArgs="configdir='sql:/USERHOME/.pki/nssdb' certPrefix='' keyPrefix='' flags='readOnly'"</message>
</record>
<record>
  <date>2022-10-29T12:28:52.901968Z</date>
  <millis>1667046532901</millis>
  <nanos>968000</nanos>
  <sequence>19</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>loadNSS</method>
  <thread>18</thread>
  <message>Proveedor PKCS#11 para NSS anadido para perfil compartido: SunPKCS11-NSSCrypto-AFirma</message>
</record>
<record>
  <date>2022-10-29T12:28:52.927468Z</date>
  <millis>1667046532927</millis>
  <nanos>468000</nanos>
  <sequence>20</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.AOKeyStoreManager</class>
  <method>init</method>
  <thread>18</thread>
  <message>Inicializamos el almacen de tipo: DNIe y tarjetas FNMT-TIF</message>
</record>
<record>
  <date>2022-10-29T12:28:52.990982Z</date>
  <millis>1667046532990</millis>
  <nanos>982000</nanos>
  <sequence>21</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.KeyStoreUtilities</class>
  <method>addPreferredKeyStoreManagers</method>
  <thread>18</thread>
  <message>No se ha encontrado un DNIe: java.security.ProviderException: No se ha podido inicializar el proveedor de DNIe: es.gob.jmulticard.apdu.connection.NoReadersFoundException: No se detectaron lectores de tarjetas en el sistema</message>
</record>
<record>
  <date>2022-10-29T12:28:52.992620Z</date>
  <millis>1667046532992</millis>
  <nanos>620000</nanos>
  <sequence>22</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.AOKeyStoreManager</class>
  <method>init</method>
  <thread>18</thread>
  <message>Inicializamos el almacen de tipo: Tarjeta FNMT-RCM CERES 4.30 o superior</message>
</record>
<record>
  <date>2022-10-29T12:28:52.996073Z</date>
  <millis>1667046532996</millis>
  <nanos>73000</nanos>
  <sequence>23</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.KeyStoreUtilities</class>
  <method>addPreferredKeyStoreManagers</method>
  <thread>18</thread>
  <message>No se ha encontrado una tarjeta CERES 4.30 o superior: java.security.ProviderException: No se ha podido inicializar el proveedor de Ceres 4.30 y superior: es.gob.jmulticard.apdu.connection.NoReadersFoundException: No se detectaron lectores de tarjetas en el sistema</message>
</record>
<record>
  <date>2022-10-29T12:28:52.998447Z</date>
  <millis>1667046532998</millis>
  <nanos>447000</nanos>
  <sequence>24</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.AOKeyStoreManager</class>
  <method>init</method>
  <thread>18</thread>
  <message>Inicializamos el almacen de tipo: Tarjeta FNMT-RCM CERES</message>
</record>
<record>
  <date>2022-10-29T12:28:53.011768Z</date>
  <millis>1667046533011</millis>
  <nanos>768000</nanos>
  <sequence>25</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.KeyStoreUtilities</class>
  <method>addPreferredKeyStoreManagers</method>
  <thread>18</thread>
  <message>No se ha encontrado una tarjeta CERES: java.security.ProviderException: No se ha podido conectar con la tarjeta CERES: es.gob.jmulticard.apdu.connection.NoReadersFoundException: No se detectaron lectores de tarjetas en el sistema</message>
</record>
<record>
  <date>2022-10-29T12:28:53.015559Z</date>
  <millis>1667046533015</millis>
  <nanos>559000</nanos>
  <sequence>26</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>getMozillaPKCS11Modules</method>
  <thread>18</thread>
  <message>Se incluiran los modulos nativos de DNIe/CERES si se encuentran configurados</message>
</record>
<record>
  <date>2022-10-29T12:28:53.023217Z</date>
  <millis>1667046533023</millis>
  <nanos>217000</nanos>
  <sequence>27</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.NSPreferences</class>
  <method>getActiveProfile</method>
  <thread>18</thread>
  <message>Se toma como perfil activo de Mozilla el indicado en el 'profiles.ini' v2 o sup.</message>
</record>
<record>
  <date>2022-10-29T12:28:53.024843Z</date>
  <millis>1667046533024</millis>
  <nanos>843000</nanos>
  <sequence>28</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.NSPreferences</class>
  <method>getFireFoxUserProfileDirectory</method>
  <thread>18</thread>
  <message>Se utilizara el perfil activo de Mozilla: 'USERHOME/.mozilla/firefox/ymee1ty3.default-release-1644057428286</message>
</record>
<record>
  <date>2022-10-29T12:28:53.027718Z</date>
  <millis>1667046533027</millis>
  <nanos>718000</nanos>
  <sequence>29</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>getMozillaPKCS11Modules</method>
  <thread>18</thread>
  <message>Obtenidos los modulos externos de Mozilla desde 'pkcs11.txt'</message>
</record>
<record>
  <date>2022-10-29T12:28:53.030135Z</date>
  <millis>1667046533030</millis>
  <nanos>135000</nanos>
  <sequence>30</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaUnifiedKeyStoreManager</class>
  <method>init</method>
  <thread>18</thread>
  <message>No se han encontrado modulos PKCS#11 externos instalados en Firefox</message>
</record>
<record>
  <date>2022-10-29T12:28:53.031601Z</date>
  <millis>1667046533031</millis>
  <nanos>601000</nanos>
  <sequence>31</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncherSign</class>
  <method>processSign</method>
  <thread>18</thread>
  <message>Obtenido gestor de almacenes de claves: Gestor de almacenes de claves NSS con nombre NSS</message>
</record>
<record>
  <date>2022-10-29T12:28:53.032811Z</date>
  <millis>1667046533032</millis>
  <nanos>811000</nanos>
  <sequence>32</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncherSign</class>
  <method>processSign</method>
  <thread>18</thread>
  <message>Cargando dialogo de seleccion de certificados...</message>
</record>
<record>
  <date>2022-10-29T12:28:57.406103Z</date>
  <millis>1667046537406</millis>
  <nanos>103000</nanos>
  <sequence>33</sequence>
  <logger>es.gob.afirma</logger>
  <level>WARNING</level>
  <class>es.gob.afirma.signers.cades.AOCAdESSigner</class>
  <method>noticeIncompatibleConfig</method>
  <thread>18</thread>
  <message>Se ignorara el parametro 'mode' por haberse proporcionado tambien el parametro 'precalculatedHashAlgorithm'. La firma sera explicita.</message>
</record>
<record>
  <date>2022-10-29T12:28:57.687555Z</date>
  <millis>1667046537687</millis>
  <nanos>555000</nanos>
  <sequence>34</sequence>
  <logger>es.gob.afirma</logger>
  <level>WARNING</level>
  <class>es.gob.afirma.core.misc.MimeHelper</class>
  <method>&lt;init&gt;</method>
  <thread>18</thread>
  <message>No se pudo detectar el formato de los datos</message>
</record>
<record>
  <date>2022-10-29T12:28:57.796111Z</date>
  <millis>1667046537796</millis>
  <nanos>111000</nanos>
  <sequence>35</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.core.signers.AOPkcs1Signer</class>
  <method>sign</method>
  <thread>18</thread>
  <message>Se ha solicitado una firma 'SHA256withRSA' con una clave de tipo RSA</message>
</record>
<record>
  <date>2022-10-29T12:28:57.859686Z</date>
  <millis>1667046537859</millis>
  <nanos>686000</nanos>
  <sequence>36</sequence>
  <logger>es.gob.afirma</logger>
  <level>WARNING</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncherSign</class>
  <method>processSign</method>
  <thread>18</thread>
  <message>Se omite el cifrado de los datos resultantes por no haberse proporcionado una clave de cifrado</message>
</record>
<record>
  <date>2022-10-29T12:28:57.862234Z</date>
  <millis>1667046537862</millis>
  <nanos>234000</nanos>
  <sequence>37</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncherSign</class>
  <method>processSign</method>
  <thread>18</thread>
  <message>Se omite el envio por red de los datos resultantes por no haberse proporcionado una URL de destino</message>
</record>
<record>
  <date>2022-10-29T12:29:02.817448Z</date>
  <millis>1667046542817</millis>
  <nanos>448000</nanos>
  <sequence>38</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.AfirmaWebSocketServer</class>
  <method>onClose</method>
  <thread>25</thread>
  <message>Se ha cerrado la comunicacion con el socket. Cerramos la aplicacion</message>
</record>

<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE log SYSTEM "logger.dtd">
<log>
<record>
  <date>2022-10-31T14:02:45.557181Z</date>
  <millis>1667224965557</millis>
  <nanos>181000</nanos>
  <sequence>0</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.ProxyUtil</class>
  <method>setProxySettings</method>
  <thread>1</thread>
  <message>No se usara proxy para las conexiones HTTP</message>
</record>
<record>
  <date>2022-10-31T14:02:45.634961Z</date>
  <millis>1667224965634</millis>
  <nanos>961000</nanos>
  <sequence>1</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.ProxyUtil</class>
  <method>setProxySettings</method>
  <thread>1</thread>
  <message>No se usara proxy para las conexiones HTTPS</message>
</record>
<record>
  <date>2022-10-31T14:02:45.700731Z</date>
  <millis>1667224965700</millis>
  <nanos>731000</nanos>
  <sequence>2</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.SimpleAfirma</class>
  <method>printSystemInfo</method>
  <thread>1</thread>
  <message>AutoFirma 1.7.1
Resolucion DPI de pantalla: 0
Sistema operativo: Linux
Version del SO: 5.15.0-52-generic
Version de Java: 13.0.7
Arquitectura del JRE: 64
Java Vendor: Private Build
Localizacion por defecto: es_ES
Tamano actual en memoria: 62MB
Tamano maximo de memoria: 958MB
Memoria actualmente libre: 49MB</message>
</record>
<record>
  <date>2022-10-31T14:02:45.702880Z</date>
  <millis>1667224965702</millis>
  <nanos>880000</nanos>
  <sequence>3</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.SimpleAfirma</class>
  <method>main</method>
  <thread>1</thread>
  <message>Invocacion por protocolo con URL:
afirma://sign?fileid=DLjKrXjbCTlV4eptOjti&amp;rtservlet=https%3A%2F%2Fsede.malaga.eu%2Ffire-signature%2Fpublic%2Fafirma%2Fretrieve&amp;key=37257237</message>
</record>
<record>
  <date>2022-10-31T14:02:45.729095Z</date>
  <millis>1667224965729</millis>
  <nanos>95000</nanos>
  <sequence>4</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncher</class>
  <method>launch</method>
  <thread>1</thread>
  <message>Se invoca a la aplicacion para realizar una operacion de firma/multifirma</message>
</record>
<record>
  <date>2022-10-31T14:02:45.735742Z</date>
  <millis>1667224965735</millis>
  <nanos>742000</nanos>
  <sequence>5</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.core.misc.protocol.ProtocolInvocationUriParser</class>
  <method>parserUri</method>
  <thread>1</thread>
  <message>URI recibida: afirma://sign?fileid=DLjKrXjbCTlV4eptOjti&amp;rtservlet=https%3A%2F%2Fsede.malaga.eu%2Ffire-signature%2Fpublic%2Fafirma%2Fretrieve&amp;key=37257237</message>
</record>
<record>
  <date>2022-10-31T14:02:45.746271Z</date>
  <millis>1667224965746</millis>
  <nanos>271000</nanos>
  <sequence>6</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncherUtil</class>
  <method>getDataFromRetrieveServlet</method>
  <thread>1</thread>
  <message>Intentamos recuperar los datos del servidor con la URL:
https://sede.malaga.eu/fire-signature/public/afirma/retrieve?op=get&amp;v=1_0&amp;id=DLjKrXjbCTlV4eptOjti</message>
</record>
<record>
  <date>2022-10-31T14:02:46.609341Z</date>
  <millis>1667224966609</millis>
  <nanos>341000</nanos>
  <sequence>7</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.updater.Updater</class>
  <method>lambda$checkForUpdates$0</method>
  <thread>18</thread>
  <message>Se ha encontrado instalada la ultima version disponible de AutoFirma</message>
</record>
<record>
  <date>2022-10-31T14:02:46.987440Z</date>
  <millis>1667224966987</millis>
  <nanos>440000</nanos>
  <sequence>8</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.core.misc.http.DataDownloader</class>
  <method>downloadData</method>
  <thread>1</thread>
  <message>El contenido a obtener es Base64</message>
</record>
<record>
  <date>2022-10-31T14:02:46.991831Z</date>
  <millis>1667224966991</millis>
  <nanos>831000</nanos>
  <sequence>9</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncher</class>
  <method>launch</method>
  <thread>1</thread>
  <message>Se inicia la operacion de firma. Version de protocolo: 0</message>
</record>
<record>
  <date>2022-10-31T14:02:47.042926Z</date>
  <millis>1667224967042</millis>
  <nanos>926000</nanos>
  <sequence>10</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaUnifiedKeyStoreManager</class>
  <method>init</method>
  <thread>1</thread>
  <message>Inicializamos el almacen de tipo: NSS</message>
</record>
<record>
  <date>2022-10-31T14:02:47.047562Z</date>
  <millis>1667224967047</millis>
  <nanos>562000</nanos>
  <sequence>11</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilitiesUnix</class>
  <method>getNSSLibDirUnix</method>
  <thread>1</thread>
  <message>Se usara el NSS encontrado en '/usr/lib/x86_64-linux-gnu/nss'</message>
</record>
<record>
  <date>2022-10-31T14:02:47.054016Z</date>
  <millis>1667224967054</millis>
  <nanos>16000</nanos>
  <sequence>12</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>loadNSS</method>
  <thread>1</thread>
  <message>Directorio de bibliotecas NSS: /usr/lib/x86_64-linux-gnu/nss</message>
</record>
<record>
  <date>2022-10-31T14:02:47.057441Z</date>
  <millis>1667224967057</millis>
  <nanos>441000</nanos>
  <sequence>13</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.shared.SharedNssUtil</class>
  <method>getSharedUserProfileDirectory</method>
  <thread>1</thread>
  <message>Detectado directorio de perfil de NSS: Ì´/.pki/nssdb</message>
</record>
<record>
  <date>2022-10-31T14:02:47.060090Z</date>
  <millis>1667224967060</millis>
  <nanos>90000</nanos>
  <sequence>14</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>loadNSS</method>
  <thread>1</thread>
  <message>Configuracion de NSS para SunPKCS11:
name=NSSCrypto-AFirma
library=/usr/lib/x86_64-linux-gnu/nss/libsoftokn3.so
attributes=compatibility
slot=2
showInfo=false
allowSingleThreadedModules=true
nssArgs="configdir='sql:/USERHOME/.pki/nssdb' certPrefix='' keyPrefix='' flags='readOnly'"</message>
</record>
<record>
  <date>2022-10-31T14:02:47.107742Z</date>
  <millis>1667224967107</millis>
  <nanos>742000</nanos>
  <sequence>15</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>loadNSS</method>
  <thread>1</thread>
  <message>Proveedor PKCS#11 para NSS anadido para perfil compartido: SunPKCS11-NSSCrypto-AFirma</message>
</record>
<record>
  <date>2022-10-31T14:02:47.123885Z</date>
  <millis>1667224967123</millis>
  <nanos>885000</nanos>
  <sequence>16</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.AOKeyStoreManager</class>
  <method>init</method>
  <thread>1</thread>
  <message>Inicializamos el almacen de tipo: DNIe y tarjetas FNMT-TIF</message>
</record>
<record>
  <date>2022-10-31T14:02:47.188213Z</date>
  <millis>1667224967188</millis>
  <nanos>213000</nanos>
  <sequence>17</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.KeyStoreUtilities</class>
  <method>addPreferredKeyStoreManagers</method>
  <thread>1</thread>
  <message>No se ha encontrado un DNIe: java.security.ProviderException: No se ha podido inicializar el proveedor de DNIe: es.gob.jmulticard.apdu.connection.NoReadersFoundException: No se detectaron lectores de tarjetas en el sistema</message>
</record>
<record>
  <date>2022-10-31T14:02:47.189645Z</date>
  <millis>1667224967189</millis>
  <nanos>645000</nanos>
  <sequence>18</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.AOKeyStoreManager</class>
  <method>init</method>
  <thread>1</thread>
  <message>Inicializamos el almacen de tipo: Tarjeta FNMT-RCM CERES 4.30 o superior</message>
</record>
<record>
  <date>2022-10-31T14:02:47.194019Z</date>
  <millis>1667224967194</millis>
  <nanos>19000</nanos>
  <sequence>19</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.KeyStoreUtilities</class>
  <method>addPreferredKeyStoreManagers</method>
  <thread>1</thread>
  <message>No se ha encontrado una tarjeta CERES 4.30 o superior: java.security.ProviderException: No se ha podido inicializar el proveedor de Ceres 4.30 y superior: es.gob.jmulticard.apdu.connection.NoReadersFoundException: No se detectaron lectores de tarjetas en el sistema</message>
</record>
<record>
  <date>2022-10-31T14:02:47.195865Z</date>
  <millis>1667224967195</millis>
  <nanos>865000</nanos>
  <sequence>20</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.AOKeyStoreManager</class>
  <method>init</method>
  <thread>1</thread>
  <message>Inicializamos el almacen de tipo: Tarjeta FNMT-RCM CERES</message>
</record>
<record>
  <date>2022-10-31T14:02:47.202955Z</date>
  <millis>1667224967202</millis>
  <nanos>955000</nanos>
  <sequence>21</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.KeyStoreUtilities</class>
  <method>addPreferredKeyStoreManagers</method>
  <thread>1</thread>
  <message>No se ha encontrado una tarjeta CERES: java.security.ProviderException: No se ha podido conectar con la tarjeta CERES: es.gob.jmulticard.apdu.connection.NoReadersFoundException: No se detectaron lectores de tarjetas en el sistema</message>
</record>
<record>
  <date>2022-10-31T14:02:47.204085Z</date>
  <millis>1667224967204</millis>
  <nanos>85000</nanos>
  <sequence>22</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>getMozillaPKCS11Modules</method>
  <thread>1</thread>
  <message>Se incluiran los modulos nativos de DNIe/CERES si se encuentran configurados</message>
</record>
<record>
  <date>2022-10-31T14:02:47.219999Z</date>
  <millis>1667224967219</millis>
  <nanos>999000</nanos>
  <sequence>23</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.NSPreferences</class>
  <method>getActiveProfile</method>
  <thread>1</thread>
  <message>Se toma como perfil activo de Mozilla el indicado en el 'profiles.ini' v2 o sup.</message>
</record>
<record>
  <date>2022-10-31T14:02:47.221304Z</date>
  <millis>1667224967221</millis>
  <nanos>304000</nanos>
  <sequence>24</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.NSPreferences</class>
  <method>getFireFoxUserProfileDirectory</method>
  <thread>1</thread>
  <message>Se utilizara el perfil activo de Mozilla: 'USERHOME/.mozilla/firefox/ymee1ty3.default-release-1644057428286</message>
</record>
<record>
  <date>2022-10-31T14:02:47.226528Z</date>
  <millis>1667224967226</millis>
  <nanos>528000</nanos>
  <sequence>25</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaKeyStoreUtilities</class>
  <method>getMozillaPKCS11Modules</method>
  <thread>1</thread>
  <message>Obtenidos los modulos externos de Mozilla desde 'pkcs11.txt'</message>
</record>
<record>
  <date>2022-10-31T14:02:47.229784Z</date>
  <millis>1667224967229</millis>
  <nanos>784000</nanos>
  <sequence>26</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.keystores.mozilla.MozillaUnifiedKeyStoreManager</class>
  <method>init</method>
  <thread>1</thread>
  <message>No se han encontrado modulos PKCS#11 externos instalados en Firefox</message>
</record>
<record>
  <date>2022-10-31T14:02:47.231026Z</date>
  <millis>1667224967231</millis>
  <nanos>26000</nanos>
  <sequence>27</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncherSign</class>
  <method>processSign</method>
  <thread>1</thread>
  <message>Obtenido gestor de almacenes de claves: Gestor de almacenes de claves NSS con nombre NSS</message>
</record>
<record>
  <date>2022-10-31T14:02:47.231841Z</date>
  <millis>1667224967231</millis>
  <nanos>841000</nanos>
  <sequence>28</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.standalone.protocol.ProtocolInvocationLauncherSign</class>
  <method>processSign</method>
  <thread>1</thread>
  <message>Cargando dialogo de seleccion de certificados...</message>
</record>
<record>
  <date>2022-10-31T14:02:51.566462Z</date>
  <millis>1667224971566</millis>
  <nanos>462000</nanos>
  <sequence>29</sequence>
  <logger>es.gob.afirma</logger>
  <level>INFO</level>
  <class>es.gob.afirma.core.signers.AOPkcs1Signer</class>
  <method>sign</method>
  <thread>1</thread>
  <message>Se ha solicitado una firma 'SHA256withRSA' con una clave de tipo RSA</message>
</record>
<record>
  <date>2022-10-31T14:02:51.659099Z</date>
  <millis>1667224971659</millis>
  <nanos>99000</nanos>
  <sequence>30</sequence>
  <logger>es.gob.afirma</logger>
  <level>WARNING</level>
  <class>es.gob.afirma.standalone.protocol.ActiveWaitingThread</class>
  <method>run</method>
  <thread>22</thread>
  <message>No se ha podido esperar para el envio de la senal de espera activa para el JavaScript. No se envia la peticion: java.lang.InterruptedException: sleep interrupted</message>
</record>
